{
  "name": "health-research-agent-api",
  "location": "East US",
  "sku": {
    "name": "B1",
    "tier": "Basic"
  },
  "properties": {
    "serverFarmId": "/subscriptions/<subscription-id>/resourceGroups/<resource-group>/providers/Microsoft.Web/serverfarms/<app-service-plan>",
    "siteConfig": {
      "appSettings": [
        {
          "name": "WEBSITES_ENABLE_APP_SERVICE_STORAGE",
          "value": "false"
        },
        {
          "name": "DOCKER_REGISTRY_SERVER_URL",
          "value": "https://<your-registry>.azurecr.io"
        },
        {
          "name": "DOCKER_REGISTRY_SERVER_USERNAME",
          "value": "<acr-username>"
        },
        {
          "name": "DOCKER_REGISTRY_SERVER_PASSWORD",
          "value": "<acr-password>"
        },
        {
          "name": "WEBSITES_PORT",
          "value": "8000"
        },
        {
          "name": "DB_HOST",
          "value": "<your-azure-postgres-server>.postgres.database.azure.com"
        },
        {
          "name": "DB_PORT",
          "value": "5432"
        },
        {
          "name": "DB_USER",
          "value": "<your-db-username>"
        },
        {
          "name": "DB_PASSWORD",
          "value": "@Microsoft.KeyVault(SecretUri=https://<keyvault>.vault.azure.net/secrets/db-password/)"
        },
        {
          "name": "DB_NAME",
          "value": "postgres"
        },
        {
          "name": "AGNO_API_KEY",
          "value": "@Microsoft.KeyVault(SecretUri=https://<keyvault>.vault.azure.net/secrets/agno-api-key/)"
        },
        {
          "name": "AZURE_OPENAI_API_KEY",
          "value": "@Microsoft.KeyVault(SecretUri=https://<keyvault>.vault.azure.net/secrets/azure-openai-key/)"
        },
        {
          "name": "AZURE_OPENAI_ENDPOINT",
          "value": "https://<your-azure-openai-instance>.openai.azure.com"
        },
        {
          "name": "GOOGLE_API_KEY",
          "value": "@Microsoft.KeyVault(SecretUri=https://<keyvault>.vault.azure.net/secrets/google-api-key/)"
        },
        {
          "name": "ENVIRONMENT",
          "value": "production"
        }
      ],
      "linuxFxVersion": "DOCKER|<your-registry>.azurecr.io/health-research-agent-api:latest"
    }
  }
}
